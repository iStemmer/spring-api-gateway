[34m2022-04-08 11:34:38 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 11:34:38 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93197 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 11:34:38 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 11:34:39 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=d6c1a309-5509-30bc-a312-27f2e9ec8d5c
[0;39m[34m2022-04-08 11:34:40 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3360ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 11:34:41 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:34:41 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@72001c71{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:34:41 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:34:41 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@503a7990{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:34:41 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@12e007be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10404}
[0;39m[34m2022-04-08 11:34:41 [INFO ] e.j.u.s.SslContextFactory | x509=X509@7bce9ce4(wiremock,h=[tom akehurst],a=[],w=[]) for Server@fd87c22[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:34:41 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:34:41 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5b4954b2{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13717}
[0;39m[34m2022-04-08 11:34:41 [INFO ] w.o.e.jetty.server.Server | Started @3859ms
[0;39m[34m2022-04-08 11:34:41 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 11:34:41 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 11:34:41 [INFO ] e.w.EndpointLinksResolver | Exposing 2 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 11:34:41 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 24 ms
[0;39m[34m2022-04-08 11:34:41 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.61 seconds (JVM running for 4.581)
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@12e007be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10404}
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5b4954b2{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13717}
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@503a7990{/,null,STOPPED}
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@72001c71{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 11:34:42 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@72001c71{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:34:42 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@503a7990{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@12e007be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10404}
[0;39m[34m2022-04-08 11:34:42 [INFO ] e.j.u.s.SslContextFactory | x509=X509@1e0c898c(wiremock,h=[tom akehurst],a=[],w=[]) for Server@fd87c22[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:34:42 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5b4954b2{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13717}
[0;39m[34m2022-04-08 11:34:42 [INFO ] w.o.e.jetty.server.Server | Started @5349ms
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@12e007be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10404}
[0;39m[34m2022-04-08 11:34:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5b4954b2{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13717}
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@503a7990{/,null,STOPPED}
[0;39m[34m2022-04-08 11:34:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@72001c71{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 11:35:49 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 11:35:49 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93215 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 11:35:49 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 11:35:50 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=d6c1a309-5509-30bc-a312-27f2e9ec8d5c
[0;39m[34m2022-04-08 11:35:51 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3071ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 11:35:51 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:35:51 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@7f4f1536{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:35:52 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:35:52 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@3bf5911d{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:35:52 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@1669931a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10796}
[0;39m[34m2022-04-08 11:35:52 [INFO ] e.j.u.s.SslContextFactory | x509=X509@5b3755f4(wiremock,h=[tom akehurst],a=[],w=[]) for Server@1bdafb01[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:35:52 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:35:52 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@2c6927f0{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14981}
[0;39m[34m2022-04-08 11:35:52 [INFO ] w.o.e.jetty.server.Server | Started @3532ms
[0;39m[34m2022-04-08 11:35:52 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 11:35:52 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 11:35:52 [INFO ] e.w.EndpointLinksResolver | Exposing 2 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 11:35:52 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 25 ms
[0;39m[34m2022-04-08 11:35:52 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.448 seconds (JVM running for 4.338)
[0;39m[34m2022-04-08 11:35:53 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T08:35:53.757460Z
[0;39m[1;31m2022-04-08 11:35:54 [ERROR] .h.c.e.ErrorHandlerAdvice | Connection refused (Connection refused)
[0;39mjava.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1592)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceA(GatewayControllerTest.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 11:35:54 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=1045
[0;39m[34m2022-04-08 11:35:54 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T08:35:54.839220Z
[0;39m[1;31m2022-04-08 11:35:55 [ERROR] .h.c.e.ErrorHandlerAdvice | Connection refused (Connection refused)
[0;39mjava.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1592)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceB(GatewayControllerTest.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 11:35:55 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=1004
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@1669931a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10796}
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@2c6927f0{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14981}
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@3bf5911d{/,null,STOPPED}
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@7f4f1536{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 11:35:55 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@7f4f1536{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:35:55 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@3bf5911d{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@1669931a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10796}
[0;39m[34m2022-04-08 11:35:55 [INFO ] e.j.u.s.SslContextFactory | x509=X509@173b24c4(wiremock,h=[tom akehurst],a=[],w=[]) for Server@1bdafb01[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:35:55 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@2c6927f0{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14981}
[0;39m[34m2022-04-08 11:35:55 [INFO ] w.o.e.jetty.server.Server | Started @7365ms
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@1669931a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10796}
[0;39m[34m2022-04-08 11:35:55 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@2c6927f0{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14981}
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@3bf5911d{/,null,STOPPED}
[0;39m[34m2022-04-08 11:35:55 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@7f4f1536{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 11:59:38 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 11:59:38 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93474 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 11:59:38 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 11:59:39 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 11:59:40 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3284ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 11:59:40 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:59:40 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@574ebdaf{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:59:40 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:59:40 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@46a388cc{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:59:40 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@63187d63{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11449}
[0;39m[34m2022-04-08 11:59:40 [INFO ] e.j.u.s.SslContextFactory | x509=X509@1de08775(wiremock,h=[tom akehurst],a=[],w=[]) for Server@7db162f2[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:59:40 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:59:40 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5835e24a{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12664}
[0;39m[34m2022-04-08 11:59:40 [INFO ] w.o.e.jetty.server.Server | Started @3711ms
[0;39m[34m2022-04-08 11:59:41 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 11:59:41 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 11:59:41 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 11:59:41 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 23 ms
[0;39m[34m2022-04-08 11:59:41 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.55 seconds (JVM running for 4.42)
[0;39m[34m2022-04-08 11:59:42 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T08:59:42.228754Z
[0;39m[34m2022-04-08 11:59:42 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11449]



Matched response definition:
(no response definition configured)

Response:
HTTP/1.1 404
(no headers)


[0;39m[34m2022-04-08 11:59:42 [INFO ] w.o.e.j.s.h.C.__admin     | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:59:42 [INFO ] WireMock                  | Admin request received:
127.0.0.1 - GET /not-matched

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11449]


[0;39m[1;31m2022-04-08 11:59:42 [ERROR] WireMock                  | 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
/savings/a/balance                                         | /balance                                            <<<<< URL does not match
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------

[0;39m[1;31m2022-04-08 11:59:42 [ERROR] c.h.c.CustomErrorDecoder  | Exception from feign service
[0;39mfeign.FeignException$NotFound: [404 Not Found] during [GET] to [http://localhost:11449/balance] [BalanceClientA#getCurrentBalance()]: [
                                               Request was not matched
                                               =======================

--------------------------------------------------------... (1010 bytes)]
	at feign.FeignException.clientErrorStatus(FeignException.java:219)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:185)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at com.hercules.configuration.CustomErrorDecoder.decode(CustomErrorDecoder.java:19)
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:96)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:138)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceA(GatewayControllerTest.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 11:59:42 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=140
[0;39m[34m2022-04-08 11:59:42 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T08:59:42.393355Z
[0;39m[34m2022-04-08 11:59:42 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11449]



Matched response definition:
(no response definition configured)

Response:
HTTP/1.1 404
(no headers)


[0;39m[34m2022-04-08 11:59:42 [INFO ] WireMock                  | Admin request received:
127.0.0.1 - GET /not-matched

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11449]


[0;39m[1;31m2022-04-08 11:59:42 [ERROR] WireMock                  | 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
/savings/b/balance                                         | /balance                                            <<<<< URL does not match
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------

[0;39m[1;31m2022-04-08 11:59:42 [ERROR] c.h.c.CustomErrorDecoder  | Exception from feign service
[0;39mfeign.FeignException$NotFound: [404 Not Found] during [GET] to [http://localhost:11449/balance] [BalanceClientA#getCurrentBalance()]: [
                                               Request was not matched
                                               =======================

--------------------------------------------------------... (1010 bytes)]
	at feign.FeignException.clientErrorStatus(FeignException.java:219)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:185)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at com.hercules.configuration.CustomErrorDecoder.decode(CustomErrorDecoder.java:19)
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:96)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:138)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceB(GatewayControllerTest.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 11:59:42 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=7
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@63187d63{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11449}
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5835e24a{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12664}
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@46a388cc{/,null,STOPPED}
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@574ebdaf{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 11:59:42 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@574ebdaf{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 11:59:42 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@46a388cc{/,null,AVAILABLE}
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@63187d63{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11449}
[0;39m[34m2022-04-08 11:59:42 [INFO ] e.j.u.s.SslContextFactory | x509=X509@3da30ce5(wiremock,h=[tom akehurst],a=[],w=[]) for Server@7db162f2[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 11:59:42 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5835e24a{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12664}
[0;39m[34m2022-04-08 11:59:42 [INFO ] w.o.e.jetty.server.Server | Started @5354ms
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@63187d63{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11449}
[0;39m[34m2022-04-08 11:59:42 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5835e24a{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12664}
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@46a388cc{/,null,STOPPED}
[0;39m[34m2022-04-08 11:59:42 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@574ebdaf{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:00:52 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:00:52 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93488 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:00:52 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:00:53 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:00:54 [INFO ] w.o.e.jetty.util.log      | Logging initialized @2672ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:00:54 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:00:54 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@3cdfbbef{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:00:54 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:00:54 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@14df5253{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:00:54 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@15d65fcf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11325}
[0;39m[34m2022-04-08 12:00:54 [INFO ] e.j.u.s.SslContextFactory | x509=X509@6dcbbb49(wiremock,h=[tom akehurst],a=[],w=[]) for Server@17136390[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:00:54 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:00:54 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@2d6a0766{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14058}
[0;39m[34m2022-04-08 12:00:54 [INFO ] w.o.e.jetty.server.Server | Started @3094ms
[0;39m[34m2022-04-08 12:00:55 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:00:55 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:00:55 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:00:55 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 25 ms
[0;39m[34m2022-04-08 12:00:55 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.073 seconds (JVM running for 3.828)
[0;39m[34m2022-04-08 12:00:55 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:00:55.861575Z
[0;39m[34m2022-04-08 12:00:55 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11325]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [911ce849-4ae0-4f13-9fef-31a0ffd6b285]


[0;39m[34m2022-04-08 12:00:56 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=183
[0;39m[34m2022-04-08 12:00:56 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:00:56.106311Z
[0;39m[34m2022-04-08 12:00:56 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11325]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [f1aab019-96b5-454a-aea1-f51e5b2c8521]


[0;39m[34m2022-04-08 12:00:56 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=5
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@15d65fcf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11325}
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@2d6a0766{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14058}
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@14df5253{/,null,STOPPED}
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@3cdfbbef{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:00:56 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@3cdfbbef{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:00:56 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@14df5253{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@15d65fcf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11325}
[0;39m[34m2022-04-08 12:00:56 [INFO ] e.j.u.s.SslContextFactory | x509=X509@1bed61d2(wiremock,h=[tom akehurst],a=[],w=[]) for Server@17136390[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:00:56 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@2d6a0766{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14058}
[0;39m[34m2022-04-08 12:00:56 [INFO ] w.o.e.jetty.server.Server | Started @4774ms
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@15d65fcf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11325}
[0;39m[34m2022-04-08 12:00:56 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@2d6a0766{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14058}
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@14df5253{/,null,STOPPED}
[0;39m[34m2022-04-08 12:00:56 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@3cdfbbef{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:08:39 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:08:39 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93600 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:08:39 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:08:40 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:08:41 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3249ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:08:41 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:08:41 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@604f376a{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:08:41 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:08:41 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@342a1f84{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:08:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@1f45db49{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10661}
[0;39m[34m2022-04-08 12:08:42 [INFO ] e.j.u.s.SslContextFactory | x509=X509@1b8d20e6(wiremock,h=[tom akehurst],a=[],w=[]) for Server@4c50cd7d[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:08:42 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:08:42 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@32b46831{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12747}
[0;39m[34m2022-04-08 12:08:42 [INFO ] w.o.e.jetty.server.Server | Started @3709ms
[0;39m[34m2022-04-08 12:08:42 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:08:42 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:08:42 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:08:42 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 23 ms
[0;39m[34m2022-04-08 12:08:42 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.519 seconds (JVM running for 4.392)
[0;39m[34m2022-04-08 12:08:43 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:08:43.362070Z
[0;39m[34m2022-04-08 12:08:43 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10661]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [d2f63ca4-a49d-4a62-836d-733956425f99]


[0;39m[34m2022-04-08 12:08:43 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=173
[0;39m[34m2022-04-08 12:08:43 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:08:43.585250Z
[0;39m[34m2022-04-08 12:08:43 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10661]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [f5d8b68a-8ddd-4cbc-ac9e-bae9d59d5d1c]


[0;39m[34m2022-04-08 12:08:43 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=4
[0;39m[34m2022-04-08 12:08:43 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:08:43.594863Z
[0;39m[34m2022-04-08 12:08:43 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10661]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [6200551a-b54d-479a-99bf-67a22aa4ed89]


[0;39m[1;31m2022-04-08 12:08:44 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:08:44 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=513
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@1f45db49{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10661}
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@32b46831{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12747}
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@342a1f84{/,null,STOPPED}
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@604f376a{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:08:44 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@604f376a{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:08:44 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@342a1f84{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@1f45db49{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10661}
[0;39m[34m2022-04-08 12:08:44 [INFO ] e.j.u.s.SslContextFactory | x509=X509@408b2ae2(wiremock,h=[tom akehurst],a=[],w=[]) for Server@4c50cd7d[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:08:44 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@32b46831{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12747}
[0;39m[34m2022-04-08 12:08:44 [INFO ] w.o.e.jetty.server.Server | Started @5885ms
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@1f45db49{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10661}
[0;39m[34m2022-04-08 12:08:44 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@32b46831{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12747}
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@342a1f84{/,null,STOPPED}
[0;39m[34m2022-04-08 12:08:44 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@604f376a{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:13:27 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:13:27 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93647 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:13:27 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:13:28 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:13:29 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3133ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:13:29 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:13:29 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@14df5253{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:13:29 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:13:29 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@63814bbe{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:13:29 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11752}
[0;39m[34m2022-04-08 12:13:29 [INFO ] e.j.u.s.SslContextFactory | x509=X509@14dbfdb1(wiremock,h=[tom akehurst],a=[],w=[]) for Server@2c08c787[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:13:29 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:13:29 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@f9b8129{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14061}
[0;39m[34m2022-04-08 12:13:29 [INFO ] w.o.e.jetty.server.Server | Started @3552ms
[0;39m[34m2022-04-08 12:13:30 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:13:30 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:13:30 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:13:30 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 24 ms
[0;39m[34m2022-04-08 12:13:30 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.332 seconds (JVM running for 4.238)
[0;39m[34m2022-04-08 12:13:30 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:13:30.877615Z
[0;39m[34m2022-04-08 12:13:31 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11752]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [2904de71-c717-4837-af8b-34e1ee11da87]


[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=182
[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:13:31.120555Z
[0;39m[34m2022-04-08 12:13:31 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11752]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [1b5456e5-1071-4407-a5a3-76f08c936ea0]


[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=4
[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:13:31.131026Z
[0;39m[34m2022-04-08 12:13:31 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11752]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [63246e9c-3539-4eba-82b7-c99464d66876]


[0;39m[1;31m2022-04-08 12:13:31 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=511
[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:13:31.648895Z
[0;39m[34m2022-04-08 12:13:31 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11752]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [27879548-1d06-447c-b1ed-49527ff2f10b]


[0;39m[34m2022-04-08 12:13:31 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=16
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11752}
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@f9b8129{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14061}
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@63814bbe{/,null,STOPPED}
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@14df5253{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:13:31 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@14df5253{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:13:31 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@63814bbe{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11752}
[0;39m[34m2022-04-08 12:13:31 [INFO ] e.j.u.s.SslContextFactory | x509=X509@5f1db390(wiremock,h=[tom akehurst],a=[],w=[]) for Server@2c08c787[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:13:31 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@f9b8129{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14061}
[0;39m[34m2022-04-08 12:13:31 [INFO ] w.o.e.jetty.server.Server | Started @5800ms
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11752}
[0;39m[34m2022-04-08 12:13:31 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@f9b8129{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14061}
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@63814bbe{/,null,STOPPED}
[0;39m[34m2022-04-08 12:13:31 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@14df5253{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:24:32 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93807 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:24:32 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:24:32 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:24:33 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:24:34 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3349ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:24:34 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:24:34 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@4571cebe{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:24:34 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:24:34 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@286a4c52{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:24:34 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11436}
[0;39m[34m2022-04-08 12:24:34 [INFO ] e.j.u.s.SslContextFactory | x509=X509@2f038d3c(wiremock,h=[tom akehurst],a=[],w=[]) for Server@2f9addd4[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:24:34 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:24:34 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@731db93f{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12735}
[0;39m[34m2022-04-08 12:24:34 [INFO ] w.o.e.jetty.server.Server | Started @3773ms
[0;39m[34m2022-04-08 12:24:35 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:24:35 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:24:35 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:24:35 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 24 ms
[0;39m[34m2022-04-08 12:24:35 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.674 seconds (JVM running for 4.557)
[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:36.174051Z
[0;39m[34m2022-04-08 12:24:36 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [2b737d9e-069e-4745-8c5f-7c029574337b]


[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=187
[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:36.430178Z
[0;39m[34m2022-04-08 12:24:36 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [fdadaff8-1339-4fb7-96a1-e654570979d2]


[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=4
[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:36.441828Z
[0;39m[34m2022-04-08 12:24:36 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":444.44}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [9b99353d-5608-40e4-b407-af8e12cc8041]


[0;39m[1;31m2022-04-08 12:24:36 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.changeBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.changeBalanceA(GatewayServiceFeign.java:30)
	at com.hercules.controller.GatewayController.changeBalanceA(GatewayController.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.changeBalanceBWithTimeout(GatewayControllerTest.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=531
[0;39m[34m2022-04-08 12:24:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:36.984750Z
[0;39m[34m2022-04-08 12:24:36 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [38de6c23-f6f7-43e4-9f93-f39a153b99e6]


[0;39m[1;31m2022-04-08 12:24:37 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:24:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=508
[0;39m[34m2022-04-08 12:24:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:37.498995Z
[0;39m[34m2022-04-08 12:24:37 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [f6ca4214-cc53-4ab5-a542-d5048ff1d3de]


[0;39m[34m2022-04-08 12:24:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=5
[0;39m[34m2022-04-08 12:24:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:24:37.509533Z
[0;39m[34m2022-04-08 12:24:37 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11436]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [4e94152b-d606-4408-a89c-5f160814ed22]


[0;39m[34m2022-04-08 12:24:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=6
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11436}
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@731db93f{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12735}
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@286a4c52{/,null,STOPPED}
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@4571cebe{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:24:37 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@4571cebe{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:24:37 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@286a4c52{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11436}
[0;39m[34m2022-04-08 12:24:37 [INFO ] e.j.u.s.SslContextFactory | x509=X509@7a7bb083(wiremock,h=[tom akehurst],a=[],w=[]) for Server@2f9addd4[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:24:37 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@731db93f{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12735}
[0;39m[34m2022-04-08 12:24:37 [INFO ] w.o.e.jetty.server.Server | Started @6793ms
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@3095d401{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11436}
[0;39m[34m2022-04-08 12:24:37 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@731db93f{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:12735}
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@286a4c52{/,null,STOPPED}
[0;39m[34m2022-04-08 12:24:37 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@4571cebe{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:25:07 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:25:07 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93823 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:25:07 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:25:07 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:25:08 [INFO ] w.o.e.jetty.util.log      | Logging initialized @3123ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:25:09 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:25:09 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@5432dca2{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:25:09 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:25:09 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@77d0dbba{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:25:09 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@33a47707{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11765}
[0;39m[34m2022-04-08 12:25:09 [INFO ] e.j.u.s.SslContextFactory | x509=X509@e49437(wiremock,h=[tom akehurst],a=[],w=[]) for Server@3ea84e01[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:25:09 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:25:09 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5353dd09{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13571}
[0;39m[34m2022-04-08 12:25:09 [INFO ] w.o.e.jetty.server.Server | Started @3643ms
[0;39m[34m2022-04-08 12:25:10 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:25:10 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:25:10 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:25:10 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 29 ms
[0;39m[34m2022-04-08 12:25:10 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.614 seconds (JVM running for 4.523)
[0;39m[34m2022-04-08 12:25:10 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:10.986350Z
[0;39m[34m2022-04-08 12:25:11 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [d490c6b3-12de-431e-8ca4-4fe85df7fa78]


[0;39m[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=186
[0;39m[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:11.230704Z
[0;39m[34m2022-04-08 12:25:11 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [5edad239-5140-4071-b483-5d981682f790]


[0;39m[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=5
[0;39m[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:11.242152Z
[0;39m[34m2022-04-08 12:25:11 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":444.44}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [2b7b07fc-7e49-4b38-8cd3-05bb1c7982f3]


[0;39m[1;31m2022-04-08 12:25:11 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.changeBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.changeBalanceA(GatewayServiceFeign.java:30)
	at com.hercules.controller.GatewayController.changeBalanceA(GatewayController.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.changeBalanceBWithTimeout(GatewayControllerTest.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=528
[0;39m[34m2022-04-08 12:25:11 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:11.776104Z
[0;39m[34m2022-04-08 12:25:11 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [3cadf327-0fa7-4fa8-8288-d40cf176d557]


[0;39m[1;31m2022-04-08 12:25:12 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
[34m2022-04-08 12:25:12 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=508
[0;39m[34m2022-04-08 12:25:12 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:12.291687Z
[0;39m[34m2022-04-08 12:25:12 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [51570ea1-762f-4974-8144-f0322db95025]


[0;39m[34m2022-04-08 12:25:12 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=5
[0;39m[34m2022-04-08 12:25:12 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:25:12.302230Z
[0;39m[34m2022-04-08 12:25:12 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11765]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [8ee42b12-2deb-4c37-8fe7-c88036ad27a2]


[0;39m[34m2022-04-08 12:25:12 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=6
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@33a47707{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11765}
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5353dd09{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13571}
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@77d0dbba{/,null,STOPPED}
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@5432dca2{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:25:12 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@5432dca2{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:25:12 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@77d0dbba{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@33a47707{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11765}
[0;39m[34m2022-04-08 12:25:12 [INFO ] e.j.u.s.SslContextFactory | x509=X509@1f7b8d59(wiremock,h=[tom akehurst],a=[],w=[]) for Server@3ea84e01[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:25:12 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@5353dd09{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13571}
[0;39m[34m2022-04-08 12:25:12 [INFO ] w.o.e.jetty.server.Server | Started @6608ms
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@33a47707{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11765}
[0;39m[34m2022-04-08 12:25:12 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@5353dd09{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:13571}
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@77d0dbba{/,null,STOPPED}
[0;39m[34m2022-04-08 12:25:12 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@5432dca2{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:28:18 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 12:28:18 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 93907 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 12:28:18 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 12:28:19 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 12:28:19 [INFO ] w.o.e.jetty.util.log      | Logging initialized @2961ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 12:28:20 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:28:20 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@28bd5015{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:28:20 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:28:20 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@64c95480{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:28:20 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@30dd00b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10149}
[0;39m[34m2022-04-08 12:28:20 [INFO ] e.j.u.s.SslContextFactory | x509=X509@5af38a4a(wiremock,h=[tom akehurst],a=[],w=[]) for Server@5d800a56[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:28:20 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:28:20 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@7b451bf4{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14322}
[0;39m[34m2022-04-08 12:28:20 [INFO ] w.o.e.jetty.server.Server | Started @3369ms
[0;39m[34m2022-04-08 12:28:20 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 12:28:20 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 12:28:20 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 12:28:20 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 25 ms
[0;39m[34m2022-04-08 12:28:20 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 3.228 seconds (JVM running for 4.022)
[0;39m[34m2022-04-08 12:28:21 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:21.733284Z
[0;39m[34m2022-04-08 12:28:21 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [02bb0e57-8456-4d11-82db-ab811056a4d0]


[0;39m[34m2022-04-08 12:28:21 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=169
[0;39m[34m2022-04-08 12:28:21 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:21.959455Z
[0;39m[34m2022-04-08 12:28:21 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [3bfe1893-a1d5-4243-ad67-3aeebbb6cb97]


[0;39m[34m2022-04-08 12:28:21 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=4
[0;39m[34m2022-04-08 12:28:21 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:21.968750Z
[0;39m[34m2022-04-08 12:28:21 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":444.44}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [18045683-033d-44c8-a179-de6964ee8933]


[0;39m[1;31m2022-04-08 12:28:22 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.changeBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.changeBalanceA(GatewayServiceFeign.java:30)
	at com.hercules.controller.GatewayController.changeBalanceA(GatewayController.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.changeBalanceBWithTimeout(GatewayControllerTest.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
[34m2022-04-08 12:28:22 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=528
[0;39m[34m2022-04-08 12:28:22 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:22.503026Z
[0;39m[34m2022-04-08 12:28:22 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [23fa60e3-981b-4d67-9c4d-7fb522f80017]


[0;39m[1;31m2022-04-08 12:28:23 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
[34m2022-04-08 12:28:23 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=506
[0;39m[34m2022-04-08 12:28:23 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:23.015779Z
[0;39m[34m2022-04-08 12:28:23 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [5286b53f-4a74-4ea9-810f-ec96be6edab0]


[0;39m[34m2022-04-08 12:28:23 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=6
[0;39m[34m2022-04-08 12:28:23 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T09:28:23.027208Z
[0;39m[34m2022-04-08 12:28:23 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:10149]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [9e67bb03-b6fb-4d2b-8f7a-10b06208acbd]


[0;39m[34m2022-04-08 12:28:23 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=6
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@30dd00b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10149}
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@7b451bf4{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14322}
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@64c95480{/,null,STOPPED}
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@28bd5015{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 12:28:23 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@28bd5015{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 12:28:23 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@64c95480{/,null,AVAILABLE}
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@30dd00b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10149}
[0;39m[34m2022-04-08 12:28:23 [INFO ] e.j.u.s.SslContextFactory | x509=X509@3891b430(wiremock,h=[tom akehurst],a=[],w=[]) for Server@5d800a56[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 12:28:23 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@7b451bf4{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14322}
[0;39m[34m2022-04-08 12:28:23 [INFO ] w.o.e.jetty.server.Server | Started @6211ms
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@30dd00b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:10149}
[0;39m[34m2022-04-08 12:28:23 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@7b451bf4{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14322}
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@64c95480{/,null,STOPPED}
[0;39m[34m2022-04-08 12:28:23 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@28bd5015{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 15:33:31 [INFO ] h.c.GatewayControllerTest | Starting GatewayControllerTest using Java 11.0.12 on C02CL4XPMD6R.local with PID 95685 (started by pavel.mmikhalev in /Users/pavel.mmikhalev/IdeaProjects/spring-api-gateway/gateway)
[0;39m[34m2022-04-08 15:33:31 [INFO ] o.h.v.i.util.Version      | HV000001: Hibernate Validator 6.2.3.Final
[0;39m[34m2022-04-08 15:33:31 [INFO ] h.c.GatewayControllerTest | No active profile set, falling back to 1 default profile: "default"
[0;39m[34m2022-04-08 15:33:32 [INFO ] o.s.c.c.s.GenericScope    | BeanFactory id=6db5d9c5-fb32-3943-9f08-08a41c92805b
[0;39m[34m2022-04-08 15:33:33 [INFO ] w.o.e.jetty.util.log      | Logging initialized @4268ms to wiremock.org.eclipse.jetty.util.log.Slf4jLog
[0;39m[34m2022-04-08 15:33:34 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 15:33:34 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@1cc93da4{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 15:33:34 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 15:33:34 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@39a8e2fa{/,null,AVAILABLE}
[0;39m[34m2022-04-08 15:33:34 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@4a9869a8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11849}
[0;39m[34m2022-04-08 15:33:34 [INFO ] e.j.u.s.SslContextFactory | x509=X509@63c84d31(wiremock,h=[tom akehurst],a=[],w=[]) for Server@56cd5d76[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 15:33:34 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 15:33:34 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@6326c5ec{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14230}
[0;39m[34m2022-04-08 15:33:34 [INFO ] w.o.e.jetty.server.Server | Started @4689ms
[0;39m[34m2022-04-08 15:33:34 [INFO ] ingBootMockServletContext | Initializing Spring TestDispatcherServlet ''
[0;39m[34m2022-04-08 15:33:34 [INFO ] w.s.TestDispatcherServlet | Initializing Servlet ''
[0;39m[34m2022-04-08 15:33:34 [INFO ] e.w.EndpointLinksResolver | Exposing 1 endpoint(s) beneath base path '/actuator'
[0;39m[34m2022-04-08 15:33:34 [INFO ] w.s.TestDispatcherServlet | Completed initialization in 30 ms
[0;39m[34m2022-04-08 15:33:35 [INFO ] o.s.c.c.util.InetUtils    | Cannot determine local hostname
[0;39m[34m2022-04-08 15:33:35 [INFO ] h.c.GatewayControllerTest | Started GatewayControllerTest in 5.635 seconds (JVM running for 6.497)
[0;39m[34m2022-04-08 15:33:36 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:36.828396Z
[0;39m[34m2022-04-08 15:33:36 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [402f5091-fde8-4e10-a7ba-00be218a95cd]


[0;39m[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=186
[0;39m[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:37.074428Z
[0;39m[34m2022-04-08 15:33:37 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.35}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [74597755-c8fb-43d6-9a29-6c4dc13b20e0]


[0;39m[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=4
[0;39m[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:37.082881Z
[0;39m[34m2022-04-08 15:33:37 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":444.44}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [8d9f9426-3158-4ec1-8888-005e901d8465]


[0;39m[1;31m2022-04-08 15:33:37 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.changeBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.changeBalanceA(GatewayServiceFeign.java:30)
	at com.hercules.controller.GatewayController.changeBalanceA(GatewayController.java:29)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.changeBalanceBWithTimeout(GatewayControllerTest.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=525
[0;39m[34m2022-04-08 15:33:37 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:37.613605Z
[0;39m[34m2022-04-08 15:33:37 [INFO ] WireMock                  | Request received:
127.0.0.1 - GET /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]



Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":500.34}",
  "headers" : {
    "Content-Type" : "application/json"
  },
  "fixedDelayMilliseconds" : 600
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [06128348-ce97-44d6-9eff-d17380b05103]


[0;39m[1;31m2022-04-08 15:33:38 [ERROR] .h.c.e.ErrorHandlerAdvice | Read timed out
[0;39mjava.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)
	at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)
	at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)
	at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:754)
	at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:689)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1615)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)
	at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)
	at feign.Client$Default.convertResponse(Client.java:109)
	at feign.Client$Default.execute(Client.java:105)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at com.sun.proxy.$Proxy107.getCurrentBalance(Unknown Source)
	at com.hercules.service.GatewayServiceFeign.getCurrentBalanceA(GatewayServiceFeign.java:20)
	at com.hercules.controller.GatewayController.getCurrentBalanceA(GatewayController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.hercules.controller.GatewayControllerTest.getCurrentBalanceAWithTimeout(GatewayControllerTest.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
[34m2022-04-08 15:33:38 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=507
[0;39m[34m2022-04-08 15:33:38 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:38.126142Z
[0;39m[34m2022-04-08 15:33:38 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [9b77c798-1c19-4cc7-bda1-a3179a39f54b]


[0;39m[34m2022-04-08 15:33:38 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=5
[0;39m[34m2022-04-08 15:33:38 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Start Time=2022-04-08T12:33:38.136225Z
[0;39m[34m2022-04-08 15:33:38 [INFO ] WireMock                  | Request received:
127.0.0.1 - POST /balance

Accept: [*/*]
User-Agent: [Java/11.0.12]
Connection: [keep-alive]
Host: [localhost:11849]
Content-Length: [15]
Content-Type: [application/json]
{"amount":null}


Matched response definition:
{
  "status" : 200,
  "body" : "{\"amount\":333.33}",
  "headers" : {
    "Content-Type" : "application/json"
  }
}

Response:
HTTP/1.1 200
Content-Type: [application/json]
Matched-Stub-Id: [034b2487-4df3-4338-b97c-0b06486d6c7e]


[0;39m[34m2022-04-08 15:33:38 [INFO ] .CustomRequestInterceptor | Request URL::http://localhost/savings/a/balance:: Time Taken=6
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@4a9869a8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11849}
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@6326c5ec{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14230}
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@39a8e2fa{/,null,STOPPED}
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@1cc93da4{/__admin,null,STOPPED}
[0;39m[34m2022-04-08 15:33:38 [INFO ] w.o.e.jetty.server.Server | jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.12+7-LTS
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@1cc93da4{/__admin,null,AVAILABLE}
[0;39m[34m2022-04-08 15:33:38 [INFO ] w.o.e.j.s.h.C.ROOT        | RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Started w.o.e.j.s.ServletContextHandler@39a8e2fa{/,null,AVAILABLE}
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@4a9869a8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11849}
[0;39m[34m2022-04-08 15:33:38 [INFO ] e.j.u.s.SslContextFactory | x509=X509@44723d95(wiremock,h=[tom akehurst],a=[],w=[]) for Server@56cd5d76[provider=Conscrypt,keyStore=null,trustStore=null]
[0;39m[34m2022-04-08 15:33:38 [INFO ] e.j.u.s.SslContextFactory | Unable to get KeyManagerFactory instance for algorithm [SunX509] on provider [Conscrypt], using default
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Started NetworkTrafficServerConnector@6326c5ec{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14230}
[0;39m[34m2022-04-08 15:33:38 [INFO ] w.o.e.jetty.server.Server | Started @8806ms
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@4a9869a8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:11849}
[0;39m[34m2022-04-08 15:33:38 [INFO ] o.e.j.s.AbstractConnector | Stopped NetworkTrafficServerConnector@6326c5ec{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:14230}
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@39a8e2fa{/,null,STOPPED}
[0;39m[34m2022-04-08 15:33:38 [INFO ] .o.e.j.s.h.ContextHandler | Stopped w.o.e.j.s.ServletContextHandler@1cc93da4{/__admin,null,STOPPED}
[0;39m